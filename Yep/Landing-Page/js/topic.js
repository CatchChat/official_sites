var base64Prefix,delay,isChinese,modulate,msg_pswpItems,pswpItems,topic_pswpItems,viewImage;modulate=function(t,e,a,i,s){var r;if(r=i+(t-e)/(a-e)*(s-i),s>i){if(i>r)return i;if(r>s)return s}else{if(r>i)return i;if(s>r)return s}return r},isChinese=function(){return-1!==window.navigator.language.indexOf("zh")},delay=function(t,e){return setTimeout(e,t)},topic_pswpItems=[],msg_pswpItems=[],pswpItems=[],viewImage=function(t,e,a){var i,s,r;return i=$(".pswp")[0],s={index:e,showHideOpacity:!0,history:!1,bgOpacity:.9,getThumbBoundsFn:function(t){var e,i,s;return s=a[t],e=window.pageYOffset||document.documentElement.scrollTop,i=s.getBoundingClientRect(),{x:i.left,y:i.top+e,w:i.width}}},r=new PhotoSwipe(i,PhotoSwipeUI_Default,t,s),delay(10,function(){return r.init()})},base64Prefix="data:image/jpeg;base64,",$(function(){var t,e;return e="https://park.catchchatchina.com/api/v2/circles/shared_messages",t="?token="+$.url("?token")+"&callback=?",$.getJSON(e+t,function(t){var e,a,i,s,r,n,o,d,l,u,c,p,m,h,g,b,f,w,v,_,k,x,y,C,I;switch(i=t.circle,k=t.topic,p=t.messages,d=k.kind,$(".topic .avatar").css("background-image","url("+k.user.avatar_url+")"),$(".topic .avatar").attr("username",k.user.username),$(".topic .nickname").html(k.user.nickname),$(".topic .time").html($.timeago(1e3*i.created_at)),k.body?$(".topic .text").html(k.body):$(".topic .text").hide(),"image"!==d&&$(".topic .images").remove(),d){case"image":for(w=k.attachments,n=0,l=w.length;l>n;n++)x=w[n],y=$.parseJSON(x.metadata),I=base64Prefix+y.thumbnail_string,$("<div/>").addClass("thumbnail").css("background-image","url("+I+")").appendTo(".images .thumbnails"),C={msrc:I,src:x.file.url,w:y.image_width,h:y.image_height},topic_pswpItems.push(C);$(".topic .images .thumbnails .thumbnail").on("tap",function(){return viewImage(topic_pswpItems,$(this).index(),$(".topic .images .thumbnails .thumbnail"))});break;case"dribbble":_=k.attachments[0],$(".topic .dribbble").show(),$(".topic .dribbble img.shot").attr("src",_.media_url),$(".topic .dribbble a.link").html(_.title).attr("href",_.url).attr("target","_blank"),pswpItems=[{msrc:_.media_url,src:_.media_url.replace("_1x.","."),w:800,h:600}],$(".topic .dribbble .shot").on("tap",function(){return viewImage(pswpItems,0,$(this))});break;case"github":v=k.attachments[0],$(".topic .github").css("display","table").attr("href",v.url).attr("target","_blank"),$(".topic .github .name").html(v.name),$(".topic .github .desc").html(v.description)}for($(".chat").css("padding-top",$(".topic").css("height")),o=0,u=p.length;u>o;o++){switch(m=p[o],r=$(".template.cell").clone().removeClass("template"),s=r.find(".content"),r.find(".avatar").css("background-image","url("+m.sender.avatar_url+")"),r.find(".avatar").attr("username",m.sender.username),r.find(".nickname").html(m.sender.nickname),h=m.attachments[0],f=h?$.parseJSON(h.metadata):void 0,m.media_type){case"text":s.addClass("text").html(m.text_content);break;case"image":g=$.parseJSON(h.metadata),b=base64Prefix+g.blurred_thumbnail_string,s.addClass("image").append($("<img/>",{src:h.file.url})).css("background-image","url("+b+")"),msg_pswpItems.push({msrc:b,src:h.file.url,w:g.image_width,h:g.image_height});break;case"audio":e=Math.round(f.audio_duration),a=$("<audio controls>",{src:h.file.url,preload:"auto"}),a.append($("<source>",{src:h.file.url,type:"audio/mpeg"})),s.addClass("audio").append(a),s.addClass("audio").append($("<button/>")),s.addClass("audio").append($("<progress/>",{max:100,value:0}).css("width",20*e+"px")),s.addClass("audio").append($("<label/>").html(e+"â€³"));break;case"location":c={key:"P8qeoPmMSc6FKpMvbLKWVrR0",lng:m.longitude,lat:m.latitude,address:m.text_content,width:200,height:100,zoom:16},c.img="https://api.map.baidu.com/staticimage?center="+c.lng+","+c.lat+"&width="+c.width+"&height="+c.height+"&zoom="+c.zoom+"&ak="+c.key,c.url="https://maps.google.cn/maps?q="+c.lat+","+c.lng+"&z="+c.zoom+"&ll="+c.lat+","+c.lng,s.attr("href",c.url),s.attr("target","_blank"),s.addClass("location").css({width:c.width+"px",height:c.height+"px",backgroundImage:"url("+c.img+")"}),s.append($("<div/>").addClass("marker")),c.address&&s.append($("<div/>").addClass("address").html(c.address))}r.appendTo(".chat .table")}return $(".chat .bubble .image").on("tap",function(){return viewImage(msg_pswpItems,$(".chat .bubble .image").index($(this)),$(".chat .bubble .image"))}),$(".avatar").click(function(){var t;return t=$(this).attr("username"),t?window.open("https://soyep.com/"+t):void 0}),$(document).scroll(function(){return $(this).scrollTop()>=$(this).height()-$(window).height()-100?$(".footer .popup").addClass("show"):$(".footer .popup").removeClass("show")}),$(".chat .bubble .audio").on("tap",function(){var t,e,a;return a=$.media($(this).find("audio")),e=$(this).find("button"),t=$(this).find("progress"),a.playPause(),a.play(function(){return e.addClass("playing")}),a.pause(function(){return e.removeClass("playing")}),a.ended(function(){return e.removeClass("playing"),a.stop()}),a.time(function(){var e;return e=modulate(this.time(),0,this.duration(),0,100),t.attr("value",e)})})}),os.ios&&$(".android").hide(),os.android?$(".ios").hide():void 0});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvcGljLmNvZmZlZSIsInRvcGljLmpzIl0sIm5hbWVzIjpbImJhc2U2NFByZWZpeCIsImRlbGF5IiwiaXNDaGluZXNlIiwibW9kdWxhdGUiLCJtc2dfcHN3cEl0ZW1zIiwicHN3cEl0ZW1zIiwidG9waWNfcHN3cEl0ZW1zIiwidmlld0ltYWdlIiwidmFsdWUiLCJmcm9tTG93IiwiZnJvbUhpZ2giLCJ0b0xvdyIsInRvSGlnaCIsInJlc3VsdCIsIndpbmRvdyIsIm5hdmlnYXRvciIsImxhbmd1YWdlIiwiaW5kZXhPZiIsIm1zIiwiZnVuYyIsInNldFRpbWVvdXQiLCJwc3dwSW5kZXgiLCJ0aHVtYm5haWxFbGVtZW50cyIsInBzd3BFbGVtZW50IiwicHN3cE9wdGlvbnMiLCJ0b3BjX2dhbGxlcnkiLCIkIiwiaW5kZXgiLCJzaG93SGlkZU9wYWNpdHkiLCJoaXN0b3J5IiwiYmdPcGFjaXR5IiwiZ2V0VGh1bWJCb3VuZHNGbiIsInBhZ2VZU2Nyb2xsIiwicmVjdCIsInRodW1ibmFpbCIsInBhZ2VZT2Zmc2V0IiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxUb3AiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ4IiwibGVmdCIsInkiLCJ0b3AiLCJ3Iiwid2lkdGgiLCJQaG90b1N3aXBlIiwiUGhvdG9Td2lwZVVJX0RlZmF1bHQiLCJpbml0IiwicGFyYW0iLCJ1cmwiLCJnZXRKU09OIiwicmVzcG9uc2UiLCJhdWRpb19kdXJhdGlvbiIsImF1ZGlvX2VsZW1lbnQiLCJjaXJjbGUiLCJjb250ZW50IiwiZWxlbWVudCIsImkiLCJqIiwia2luZCIsImxlbiIsImxlbjEiLCJtYXAiLCJtZXNzYWdlcyIsIm1zZyIsIm1zZ19hdHRhY2htZW50IiwibXNnX2ltZ19tZXRhZGF0YSIsIm1zZ19pbWdfdGh1bWJuYWlsX2JsdXIiLCJtc2dfbWV0YWRhdGEiLCJyZWYiLCJyZXBvIiwic2hvdCIsInRvcGljIiwidG9waWNfYXR0YWNobWVudCIsInRvcGljX21ldGFkYXRhIiwidG9waWNfcHN3cEl0ZW0iLCJ0b3BpY190aHVtYm5haWwiLCJjc3MiLCJ1c2VyIiwiYXZhdGFyX3VybCIsImF0dHIiLCJ1c2VybmFtZSIsImh0bWwiLCJuaWNrbmFtZSIsInRpbWVhZ28iLCJjcmVhdGVkX2F0IiwiYm9keSIsImhpZGUiLCJyZW1vdmUiLCJhdHRhY2htZW50cyIsImxlbmd0aCIsInBhcnNlSlNPTiIsIm1ldGFkYXRhIiwidGh1bWJuYWlsX3N0cmluZyIsImFkZENsYXNzIiwiYXBwZW5kVG8iLCJtc3JjIiwic3JjIiwiZmlsZSIsImltYWdlX3dpZHRoIiwiaCIsImltYWdlX2hlaWdodCIsInB1c2giLCJvbiIsInRoaXMiLCJzaG93IiwibWVkaWFfdXJsIiwidGl0bGUiLCJyZXBsYWNlIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiY2xvbmUiLCJyZW1vdmVDbGFzcyIsImZpbmQiLCJzZW5kZXIiLCJtZWRpYV90eXBlIiwidGV4dF9jb250ZW50IiwiYmx1cnJlZF90aHVtYm5haWxfc3RyaW5nIiwiYXBwZW5kIiwiTWF0aCIsInJvdW5kIiwicHJlbG9hZCIsInR5cGUiLCJtYXgiLCJrZXkiLCJsbmciLCJsb25naXR1ZGUiLCJsYXQiLCJsYXRpdHVkZSIsImFkZHJlc3MiLCJoZWlnaHQiLCJ6b29tIiwiaW1nIiwiYmFja2dyb3VuZEltYWdlIiwiY2xpY2siLCJvcGVuIiwic2Nyb2xsIiwiYmFyIiwiYnV0dG9uIiwidm9pY2UiLCJtZWRpYSIsInBsYXlQYXVzZSIsInBsYXkiLCJwYXVzZSIsImVuZGVkIiwic3RvcCIsInRpbWUiLCJwcm9ncmVzcyIsImR1cmF0aW9uIiwib3MiLCJpb3MiLCJhbmRyb2lkIl0sIm1hcHBpbmdzIjoiQUFDQSxHQUFBQSxjQUFBQyxNQUFBQyxVQUFBQyxTQUFBQyxjQUFBQyxVQUFBQyxnQkFBQUMsU0FBQUosVUFBVyxTQUFDSyxFQUFPQyxFQUFTQyxFQUFVQyxFQUFPQyxHQUMzQyxHQUFBQyxFQUNBLElBREFBLEVBQVNGLEdBQVdILEVBQVFDLElBQVlD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Ry9HLEdBQUUrRSxNQUFNbkUsYUFBZVosRUFBRStFLE1BQU0wQixTQUFXekcsRUFBRVosUUFBUXFILFNBQVcsSUFDaEV6RyxFQUFFLGtCQUFrQnFFLFNBQVMsUUFFN0JyRSxFQUFFLGtCQUFrQnVGLFlBQVksVUFPcEN2RixFQUFFLHdCQUF3QjhFLEdBQUcsTUFBTyxXQUVsQyxHQUFBa0MsR0FBQUMsRUFBQUMsQ0MzQkEsT0QyQkFBLEdBQVFsSCxFQUFFbUgsTUFBTW5ILEVBQUUrRSxNQUFNUyxLQUFLLFVBQzdCeUIsRUFBU2pILEVBQUUrRSxNQUFNUyxLQUFLLFVBQ3RCd0IsRUFBTWhILEVBQUUrRSxNQUFNUyxLQUFLLFlBRW5CMEIsRUFBTUUsWUFFTkYsRUFBTUcsS0FBSyxXQzFDVCxNRDJDQUosR0FBTzVDLFNBQVMsYUFFbEI2QyxFQUFNSSxNQUFNLFdDMUNWLE1EMkNBTCxHQUFPMUIsWUFBWSxhQUVyQjJCLEVBQU1LLE1BQU0sV0N6Q1YsTUQwQ0FOLEdBQU8xQixZQUFZLFdBQ25CMkIsRUFBTU0sU0FFUk4sRUFBTU8sS0FBSyxXQUNULEdBQUFDLEVDekNBLE9EeUNBQSxHQUFXakosU0FBU3NHLEtBQUswQyxPQUFRLEVBQUcxQyxLQUFLNEMsV0FBWSxFQUFHLEtBQ3hEWCxFQUFJekQsS0FBSyxRQUFTbUUsU0FPQUUsR0FBR0MsS0FBM0I3SCxFQUFFLFlBQVk4RCxPQUNNOEQsR0FBR0UsUUFBdkI5SCxFQUFFLFFBQVE4RCxPQUFWIiwiZmlsZSI6InRvcGljLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIyAtLS0gRlVOQ1RJT04gREVDTEFSRSAtLS1cbm1vZHVsYXRlID0gKHZhbHVlLCBmcm9tTG93LCBmcm9tSGlnaCwgdG9Mb3csIHRvSGlnaCkgLT5cbiAgcmVzdWx0ID0gdG9Mb3cgKyAoKCh2YWx1ZSAtIGZyb21Mb3cpIC8gKGZyb21IaWdoIC0gZnJvbUxvdykpICogKHRvSGlnaCAtIHRvTG93KSlcbiAgaWYgdG9Mb3cgPCB0b0hpZ2hcbiAgICByZXR1cm4gdG9Mb3cgaWYgcmVzdWx0IDwgdG9Mb3dcbiAgICByZXR1cm4gdG9IaWdoIGlmIHJlc3VsdCA+IHRvSGlnaFxuICBlbHNlXG4gICAgcmV0dXJuIHRvTG93IGlmIHJlc3VsdCA+IHRvTG93XG4gICAgcmV0dXJuIHRvSGlnaCBpZiByZXN1bHQgPCB0b0hpZ2hcbiAgcmVzdWx0XG5cbmlzQ2hpbmVzZSA9IC0+IHJldHVybiB3aW5kb3cubmF2aWdhdG9yLmxhbmd1YWdlLmluZGV4T2YoXCJ6aFwiKSBpc250IC0xXG5cbmRlbGF5ID0gKG1zLCBmdW5jKSAtPiBzZXRUaW1lb3V0IGZ1bmMsIG1zXG5cbnRvcGljX3Bzd3BJdGVtcyA9IFtdXG5tc2dfcHN3cEl0ZW1zID0gW11cbnBzd3BJdGVtcyA9IFtdXG5cbnZpZXdJbWFnZSA9IChwc3dwSXRlbXMsIHBzd3BJbmRleCwgdGh1bWJuYWlsRWxlbWVudHMpIC0+XG4gIHBzd3BFbGVtZW50ID0gJCgnLnBzd3AnKVswXVxuXG4gIHBzd3BPcHRpb25zID0ge1xuICAgIGluZGV4OiBwc3dwSW5kZXhcbiAgICBzaG93SGlkZU9wYWNpdHk6IHRydWVcbiAgICBoaXN0b3J5OiBmYWxzZVxuICAgIGJnT3BhY2l0eTogMC45XG4gICAgZ2V0VGh1bWJCb3VuZHNGbjogKGluZGV4KS0+XG4gICAgICB0aHVtYm5haWwgPSB0aHVtYm5haWxFbGVtZW50c1tpbmRleF1cbiAgICAgIHBhZ2VZU2Nyb2xsID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgIHJlY3QgPSB0aHVtYm5haWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIHJldHVybiB7eDpyZWN0LmxlZnQsIHk6cmVjdC50b3AgKyBwYWdlWVNjcm9sbCwgdzpyZWN0LndpZHRofVxuICB9XG5cbiAgdG9wY19nYWxsZXJ5ID0gbmV3IFBob3RvU3dpcGUocHN3cEVsZW1lbnQsIFBob3RvU3dpcGVVSV9EZWZhdWx0LCBwc3dwSXRlbXMsIHBzd3BPcHRpb25zKVxuICBkZWxheSAxMCwgLT4gdG9wY19nYWxsZXJ5LmluaXQoKVxuXG4jIC0tLSBWQVJJQUJMRVMgLS0tXG5iYXNlNjRQcmVmaXggPSBcImRhdGE6aW1hZ2UvanBlZztiYXNlNjQsXCJcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiQgLT5cbiMgLS0tIERBVEEgUkVOREVSSU5HIC0tLVxuICB1cmwgPSBcImh0dHBzOi8vcGFyay5jYXRjaGNoYXRjaGluYS5jb20vYXBpL3YyL2NpcmNsZXMvc2hhcmVkX21lc3NhZ2VzXCJcbiAgcGFyYW0gPSBcIj90b2tlbj1cIiArICQudXJsKFwiP3Rva2VuXCIpICsgXCImY2FsbGJhY2s9P1wiXG5cbiAgJC5nZXRKU09OIHVybCArIHBhcmFtLCAocmVzcG9uc2UpIC0+XG4gICAgY2lyY2xlID0gcmVzcG9uc2UuY2lyY2xlXG4gICAgdG9waWMgPSByZXNwb25zZS50b3BpY1xuICAgIG1lc3NhZ2VzID0gcmVzcG9uc2UubWVzc2FnZXNcbiAgICBraW5kID0gdG9waWMua2luZFxuXG4gICAgIyBBdmF0YXJcbiAgICAkKFwiLnRvcGljIC5hdmF0YXJcIikuY3NzIFwiYmFja2dyb3VuZC1pbWFnZVwiLCBcInVybCgje3RvcGljLnVzZXIuYXZhdGFyX3VybH0pXCJcbiAgICAkKFwiLnRvcGljIC5hdmF0YXJcIikuYXR0ciBcInVzZXJuYW1lXCIsIHRvcGljLnVzZXIudXNlcm5hbWVcblxuICAgICMgTmlja25hbWVcbiAgICAkKFwiLnRvcGljIC5uaWNrbmFtZVwiKS5odG1sIHRvcGljLnVzZXIubmlja25hbWVcblxuICAgICMgVGltZVxuICAgICQoXCIudG9waWMgLnRpbWVcIikuaHRtbCAkLnRpbWVhZ28oY2lyY2xlLmNyZWF0ZWRfYXQgKiAxMDAwKVxuXG4gICAgIyBUZXh0XG4gICAgaWYgbm90IHRvcGljLmJvZHkgdGhlbiAkKFwiLnRvcGljIC50ZXh0XCIpLmhpZGUoKVxuICAgIGVsc2UgJChcIi50b3BpYyAudGV4dFwiKS5odG1sIHRvcGljLmJvZHlcblxuICAgIGlmIGtpbmQgaXNudCBcImltYWdlXCIgdGhlbiAkKFwiLnRvcGljIC5pbWFnZXNcIikucmVtb3ZlKClcblxuICAgIHN3aXRjaCBraW5kXG4gICAgICAjIHdoZW4gXCJ0ZXh0XCJcbiAgICAgIHdoZW4gXCJpbWFnZVwiXG4gICAgICAgICMgSW1hZ2UgVHVtYm5haWxzXG4gICAgICAgIGZvciB0b3BpY19hdHRhY2htZW50IGluIHRvcGljLmF0dGFjaG1lbnRzXG4gICAgICAgICAgdG9waWNfbWV0YWRhdGEgPSAkLnBhcnNlSlNPTiB0b3BpY19hdHRhY2htZW50Lm1ldGFkYXRhXG4gICAgICAgICAgdG9waWNfdGh1bWJuYWlsID0gYmFzZTY0UHJlZml4ICsgdG9waWNfbWV0YWRhdGEudGh1bWJuYWlsX3N0cmluZ1xuICAgICAgICAgICQoXCI8ZGl2Lz5cIilcbiAgICAgICAgICAuYWRkQ2xhc3MgXCJ0aHVtYm5haWxcIlxuICAgICAgICAgIC5jc3MgXCJiYWNrZ3JvdW5kLWltYWdlXCIsIFwidXJsKCN7dG9waWNfdGh1bWJuYWlsfSlcIlxuICAgICAgICAgIC5hcHBlbmRUbyhcIi5pbWFnZXMgLnRodW1ibmFpbHNcIilcblxuICAgICAgICAgIHRvcGljX3Bzd3BJdGVtID0ge1xuICAgICAgICAgICAgbXNyYzogdG9waWNfdGh1bWJuYWlsXG4gICAgICAgICAgICBzcmM6ICB0b3BpY19hdHRhY2htZW50LmZpbGUudXJsXG4gICAgICAgICAgICB3OiAgICB0b3BpY19tZXRhZGF0YS5pbWFnZV93aWR0aFxuICAgICAgICAgICAgaDogICAgdG9waWNfbWV0YWRhdGEuaW1hZ2VfaGVpZ2h0XG4gICAgICAgICAgfVxuICAgICAgICAgIHRvcGljX3Bzd3BJdGVtcy5wdXNoIHRvcGljX3Bzd3BJdGVtXG5cbiAgICAgICAgIyBJbWFnZSBHYWxsZXJ5XG4gICAgICAgICQoXCIudG9waWMgLmltYWdlcyAudGh1bWJuYWlscyAudGh1bWJuYWlsXCIpLm9uIFwidGFwXCIsIC0+XG4gICAgICAgICAgdmlld0ltYWdlKHRvcGljX3Bzd3BJdGVtcywgJCh0aGlzKS5pbmRleCgpLCAkKFwiLnRvcGljIC5pbWFnZXMgLnRodW1ibmFpbHMgLnRodW1ibmFpbFwiKSlcblxuXG4gICAgICAjIHdoZW4gXCJ2aWRlb1wiXG4gICAgICAjIHdoZW4gXCJhdWRpb1wiXG4gICAgICAjIHdoZW4gXCJsb2NhdGlvblwiXG4gICAgICB3aGVuIFwiZHJpYmJibGVcIlxuICAgICAgICBzaG90ID0gdG9waWMuYXR0YWNobWVudHNbMF1cbiAgICAgICAgJChcIi50b3BpYyAuZHJpYmJibGVcIikuc2hvdygpXG4gICAgICAgICQoXCIudG9waWMgLmRyaWJiYmxlIGltZy5zaG90XCIpLmF0dHIgXCJzcmNcIiwgc2hvdC5tZWRpYV91cmxcbiAgICAgICAgJChcIi50b3BpYyAuZHJpYmJibGUgYS5saW5rXCIpLmh0bWwgc2hvdC50aXRsZVxuICAgICAgICAuYXR0ciBcImhyZWZcIiwgc2hvdC51cmxcbiAgICAgICAgLmF0dHIgXCJ0YXJnZXRcIiwgXCJfYmxhbmtcIlxuXG4gICAgICAgIHBzd3BJdGVtcyA9IFt7XG4gICAgICAgICAgbXNyYzogIHNob3QubWVkaWFfdXJsXG4gICAgICAgICAgc3JjOiAgc2hvdC5tZWRpYV91cmwucmVwbGFjZSBcIl8xeC5cIixcIi5cIlxuICAgICAgICAgIHc6ICAgIDQwMCoyXG4gICAgICAgICAgaDogICAgMzAwKjJcbiAgICAgICAgfV1cblxuICAgICAgICAkKFwiLnRvcGljIC5kcmliYmJsZSAuc2hvdFwiKS5vbiBcInRhcFwiLCAtPlxuICAgICAgICAgIHZpZXdJbWFnZShwc3dwSXRlbXMsIDAsICQodGhpcykpXG5cbiAgICAgIHdoZW4gXCJnaXRodWJcIlxuICAgICAgICByZXBvID0gdG9waWMuYXR0YWNobWVudHNbMF1cblxuICAgICAgICAkKFwiLnRvcGljIC5naXRodWJcIikuY3NzIFwiZGlzcGxheVwiLCBcInRhYmxlXCJcbiAgICAgICAgLmF0dHIgXCJocmVmXCIsIHJlcG8udXJsXG4gICAgICAgIC5hdHRyIFwidGFyZ2V0XCIsIFwiX2JsYW5rXCJcbiAgICAgICAgJChcIi50b3BpYyAuZ2l0aHViIC5uYW1lXCIpLmh0bWwgcmVwby5uYW1lXG4gICAgICAgICQoXCIudG9waWMgLmdpdGh1YiAuZGVzY1wiKS5odG1sIHJlcG8uZGVzY3JpcHRpb25cblxuICAgICAgIyB3aGVuIFwiYXBwbGVfbXVzaWNcIlxuICAgICAgIyB3aGVuIFwiYXBwbGVfbW92aWVcIlxuICAgICAgIyB3aGVuIFwiYXBwbGVfZWJvb2tcIlxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAjIExhdGVzdCBDb252ZXJzYXRpb25zXG4gICAgJChcIi5jaGF0XCIpLmNzcyBcInBhZGRpbmctdG9wXCIsICQoXCIudG9waWNcIikuY3NzIFwiaGVpZ2h0XCJcblxuICAgIGZvciBtc2cgaW4gbWVzc2FnZXNcblxuICAgICAgZWxlbWVudCA9ICQoXCIudGVtcGxhdGUuY2VsbFwiKS5jbG9uZSgpLnJlbW92ZUNsYXNzKFwidGVtcGxhdGVcIilcbiAgICAgIGNvbnRlbnQgPSBlbGVtZW50LmZpbmQoXCIuY29udGVudFwiKVxuXG4gICAgICBlbGVtZW50LmZpbmQoXCIuYXZhdGFyXCIpLmNzcyBcImJhY2tncm91bmQtaW1hZ2VcIiwgXCJ1cmwoI3ttc2cuc2VuZGVyLmF2YXRhcl91cmx9KVwiXG4gICAgICBlbGVtZW50LmZpbmQoXCIuYXZhdGFyXCIpLmF0dHIgXCJ1c2VybmFtZVwiLCBtc2cuc2VuZGVyLnVzZXJuYW1lXG5cbiAgICAgIGVsZW1lbnQuZmluZChcIi5uaWNrbmFtZVwiKS5odG1sKG1zZy5zZW5kZXIubmlja25hbWUpXG5cbiAgICAgIG1zZ19hdHRhY2htZW50ID0gbXNnLmF0dGFjaG1lbnRzWzBdXG4gICAgICBtc2dfbWV0YWRhdGEgPSBpZiBtc2dfYXR0YWNobWVudCB0aGVuICQucGFyc2VKU09OIG1zZ19hdHRhY2htZW50Lm1ldGFkYXRhIGVsc2UgdW5kZWZpbmVkXG5cblxuICAgICAgc3dpdGNoIG1zZy5tZWRpYV90eXBlXG4gICAgICAgIHdoZW4gXCJ0ZXh0XCJcbiAgICAgICAgICBjb250ZW50LmFkZENsYXNzKFwidGV4dFwiKS5odG1sKG1zZy50ZXh0X2NvbnRlbnQpXG5cbiAgICAgICAgd2hlbiBcImltYWdlXCJcbiAgICAgICAgICBtc2dfaW1nX21ldGFkYXRhID0gJC5wYXJzZUpTT04gbXNnX2F0dGFjaG1lbnQubWV0YWRhdGFcbiAgICAgICAgICBtc2dfaW1nX3RodW1ibmFpbF9ibHVyID0gYmFzZTY0UHJlZml4ICsgbXNnX2ltZ19tZXRhZGF0YS5ibHVycmVkX3RodW1ibmFpbF9zdHJpbmdcblxuICAgICAgICAgIGNvbnRlbnQuYWRkQ2xhc3MoXCJpbWFnZVwiKVxuICAgICAgICAgIC5hcHBlbmQgJChcIjxpbWcvPlwiLCBzcmM6IG1zZ19hdHRhY2htZW50LmZpbGUudXJsKVxuICAgICAgICAgIC5jc3MgJ2JhY2tncm91bmQtaW1hZ2UnLCBcInVybCgje21zZ19pbWdfdGh1bWJuYWlsX2JsdXJ9KVwiXG5cblxuICAgICAgICAgICMgSW1hZ2UgR2FsbGVyeSAtIENvbnZlcnNhdGlvblxuICAgICAgICAgIG1zZ19wc3dwSXRlbXMucHVzaCB7XG4gICAgICAgICAgICBtc3JjOiBtc2dfaW1nX3RodW1ibmFpbF9ibHVyXG4gICAgICAgICAgICBzcmM6ICBtc2dfYXR0YWNobWVudC5maWxlLnVybFxuICAgICAgICAgICAgdzogbXNnX2ltZ19tZXRhZGF0YS5pbWFnZV93aWR0aFxuICAgICAgICAgICAgaDogbXNnX2ltZ19tZXRhZGF0YS5pbWFnZV9oZWlnaHRcbiAgICAgICAgICB9XG5cblxuICAgICAgICB3aGVuIFwiYXVkaW9cIlxuICAgICAgICAgIGF1ZGlvX2R1cmF0aW9uID0gTWF0aC5yb3VuZCBtc2dfbWV0YWRhdGEuYXVkaW9fZHVyYXRpb25cbiAgICAgICAgICBhdWRpb19lbGVtZW50ID0gJChcIjxhdWRpbyBjb250cm9scz5cIiwgc3JjOiBtc2dfYXR0YWNobWVudC5maWxlLnVybCwgcHJlbG9hZDogXCJhdXRvXCIpXG4gICAgICAgICAgYXVkaW9fZWxlbWVudC5hcHBlbmQgJChcIjxzb3VyY2U+XCIsIHNyYzogbXNnX2F0dGFjaG1lbnQuZmlsZS51cmwsIHR5cGU6IFwiYXVkaW8vbXBlZ1wiKVxuXG4gICAgICAgICAgY29udGVudC5hZGRDbGFzcyhcImF1ZGlvXCIpLmFwcGVuZCBhdWRpb19lbGVtZW50XG5cbiAgICAgICAgICBjb250ZW50LmFkZENsYXNzKFwiYXVkaW9cIikuYXBwZW5kICQoXCI8YnV0dG9uLz5cIilcbiAgICAgICAgICBjb250ZW50LmFkZENsYXNzKFwiYXVkaW9cIikuYXBwZW5kICQoXCI8cHJvZ3Jlc3MvPlwiLCBtYXg6IDEwMCwgdmFsdWU6IDApLmNzcyBcIndpZHRoXCIsIFwiI3thdWRpb19kdXJhdGlvbiAqIDIwfXB4XCJcbiAgICAgICAgICBjb250ZW50LmFkZENsYXNzKFwiYXVkaW9cIikuYXBwZW5kICQoXCI8bGFiZWwvPlwiKS5odG1sKFwiI3thdWRpb19kdXJhdGlvbn3igLNcIilcblxuICAgICAgICB3aGVuIFwibG9jYXRpb25cIlxuICAgICAgICAgIG1hcCA9XG4gICAgICAgICAgICBrZXk6IFwiUDhxZW9QbU1TYzZGS3BNdmJMS1dWclIwXCJcbiAgICAgICAgICAgIGxuZzogbXNnLmxvbmdpdHVkZVxuICAgICAgICAgICAgbGF0OiBtc2cubGF0aXR1ZGVcbiAgICAgICAgICAgIGFkZHJlc3M6IG1zZy50ZXh0X2NvbnRlbnRcbiAgICAgICAgICAgIHdpZHRoOiAyMDBcbiAgICAgICAgICAgIGhlaWdodDogMTAwXG4gICAgICAgICAgICB6b29tOiAxNlxuXG4gICAgICAgICAgbWFwLmltZyA9IFwiaHR0cHM6Ly9hcGkubWFwLmJhaWR1LmNvbS9zdGF0aWNpbWFnZT9jZW50ZXI9I3ttYXAubG5nfSwje21hcC5sYXR9JndpZHRoPSN7bWFwLndpZHRofSZoZWlnaHQ9I3ttYXAuaGVpZ2h0fSZ6b29tPSN7bWFwLnpvb219JmFrPSN7bWFwLmtleX1cIlxuICAgICAgICAgIG1hcC51cmwgPSBcImh0dHBzOi8vbWFwcy5nb29nbGUuY24vbWFwcz9xPSN7bWFwLmxhdH0sI3ttYXAubG5nfSZ6PSN7bWFwLnpvb219JmxsPSN7bWFwLmxhdH0sI3ttYXAubG5nfVwiXG4gICAgICAgICAgIyBhbHRlcm5hdGl2ZTpcbiAgICAgICAgICAjIG1hcC51cmwgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZS5jbi9tYXBzL3ByZXZpZXcvQCN7bWFwLmxhdH0sI3ttYXAubG5nfSwje21hcC56b29tfXpcIlxuXG4gICAgICAgICAgY29udGVudC5hdHRyIFwiaHJlZlwiLCBtYXAudXJsXG4gICAgICAgICAgY29udGVudC5hdHRyIFwidGFyZ2V0XCIsIFwiX2JsYW5rXCJcblxuICAgICAgICAgIGNvbnRlbnQuYWRkQ2xhc3MoXCJsb2NhdGlvblwiKS5jc3NcbiAgICAgICAgICAgIHdpZHRoOiBcIiN7bWFwLndpZHRofXB4XCJcbiAgICAgICAgICAgIGhlaWdodDogXCIje21hcC5oZWlnaHR9cHhcIlxuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBcInVybCgje21hcC5pbWd9KVwiXG5cbiAgICAgICAgICBjb250ZW50LmFwcGVuZCAkKFwiPGRpdi8+XCIpLmFkZENsYXNzKFwibWFya2VyXCIpXG4gICAgICAgICAgaWYgbWFwLmFkZHJlc3MgdGhlbiBjb250ZW50LmFwcGVuZCAkKFwiPGRpdi8+XCIpLmFkZENsYXNzKFwiYWRkcmVzc1wiKS5odG1sIG1hcC5hZGRyZXNzXG4gICAgICAjIEVuZCBvZiBTd2l0Y2hcblxuICAgICAgZWxlbWVudC5hcHBlbmRUbyhcIi5jaGF0IC50YWJsZVwiKVxuICAgICMgRW5kIG9mIENvbnZlcnNhdGlvbiBMb29wXG5cblxuXG5cblxuICAgICMgSW1hZ2UgR2FsbGVyeSAtIENvbnZlcnNhdGlvblxuICAgICQoXCIuY2hhdCAuYnViYmxlIC5pbWFnZVwiKS5vbiBcInRhcFwiLCAtPlxuICAgICAgdmlld0ltYWdlKG1zZ19wc3dwSXRlbXMsICQoXCIuY2hhdCAuYnViYmxlIC5pbWFnZVwiKS5pbmRleCgkKHRoaXMpKSwgJChcIi5jaGF0IC5idWJibGUgLmltYWdlXCIpKVxuXG5cblxuXG4gICAgIyBDbGljayBhdmF0YXIgZ29lcyB0byBwcm9maWxlXG4gICAgJChcIi5hdmF0YXJcIikuY2xpY2sgLT5cbiAgICAgIHVzZXJuYW1lID0gJCh0aGlzKS5hdHRyIFwidXNlcm5hbWVcIlxuICAgICAgaWYgdXNlcm5hbWUgdGhlbiB3aW5kb3cub3BlbiBcImh0dHBzOi8vc295ZXAuY29tL1wiICsgdXNlcm5hbWVcblxuXG5cblxuXG4gICAgIyBTaG93IGJsdWUgcG9wdXAgYnViYmxlIHdoZW4gc2Nyb2xsIHJlYWNoZWQgdGhlIGJvdHRvbSBvZiBjb252ZXJzYXRpb25zXG4gICAgJChkb2N1bWVudCkuc2Nyb2xsIC0+XG4gICAgICBpZiAkKHRoaXMpLnNjcm9sbFRvcCgpID49ICQodGhpcykuaGVpZ2h0KCkgLSAkKHdpbmRvdykuaGVpZ2h0KCkgLSAxMDBcbiAgICAgICAgJChcIi5mb290ZXIgLnBvcHVwXCIpLmFkZENsYXNzKFwic2hvd1wiKVxuICAgICAgZWxzZVxuICAgICAgICAkKFwiLmZvb3RlciAucG9wdXBcIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpXG5cblxuXG5cblxuICAgICMgUGxheWVyIC0gVm9pY2VcbiAgICAkKFwiLmNoYXQgLmJ1YmJsZSAuYXVkaW9cIikub24gXCJ0YXBcIiwgLT5cblxuICAgICAgdm9pY2UgPSAkLm1lZGlhICQodGhpcykuZmluZChcImF1ZGlvXCIpXG4gICAgICBidXR0b24gPSAkKHRoaXMpLmZpbmQoXCJidXR0b25cIilcbiAgICAgIGJhciA9ICQodGhpcykuZmluZChcInByb2dyZXNzXCIpXG5cbiAgICAgIHZvaWNlLnBsYXlQYXVzZSgpXG5cbiAgICAgIHZvaWNlLnBsYXkgLT5cbiAgICAgICAgYnV0dG9uLmFkZENsYXNzKFwicGxheWluZ1wiKVxuXG4gICAgICB2b2ljZS5wYXVzZSAtPlxuICAgICAgICBidXR0b24ucmVtb3ZlQ2xhc3MoXCJwbGF5aW5nXCIpXG5cbiAgICAgIHZvaWNlLmVuZGVkIC0+XG4gICAgICAgIGJ1dHRvbi5yZW1vdmVDbGFzcyhcInBsYXlpbmdcIilcbiAgICAgICAgdm9pY2Uuc3RvcCgpXG5cbiAgICAgIHZvaWNlLnRpbWUgLT5cbiAgICAgICAgcHJvZ3Jlc3MgPSBtb2R1bGF0ZSB0aGlzLnRpbWUoKSwgMCwgdGhpcy5kdXJhdGlvbigpLCAwLCAxMDBcbiAgICAgICAgYmFyLmF0dHIgXCJ2YWx1ZVwiLCBwcm9ncmVzc1xuXG5cblxuXG5cbiMgLS0tIFJFU1BPTlNJVkUgTEFZT1VUIC0tLVxuICAkKFwiLmFuZHJvaWRcIikuaGlkZSgpIGlmIG9zLmlvc1xuICAkKFwiLmlvc1wiKS5oaWRlKCkgaWYgb3MuYW5kcm9pZFxuIixudWxsXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
